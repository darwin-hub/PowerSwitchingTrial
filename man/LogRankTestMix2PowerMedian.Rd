\name{LogRankTestMix2PowerMedian}
\alias{LogRankTestMix2PowerMedian}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{LogRankTestMix2PowerMedian
%%  ~~function to do ... ~~
}
\description{
Find the power of a Log Rank Test when a proportion of patients of the control group (treatment 1) switches to the experimental group (treatment 2). (Requirese packages survival and survminer)
}
\usage{
LogRankTestMix2PowerMedian(m1,m2,n,reps,min,max,proportion,s,alpha,r,a,b,random)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{m1}{
Estimated median survival time of treatment 1 (control group)
}
  \item{m2}{
Estimated median survival time of treatment 2 (experimental group)
}
  \item{n}{
Number of patients in treament 1
}
  \item{reps}{
how many times the test is repeated
}
  \item{Ta,Te}{
Ta is time from the start of the trial until patients stop being recruited
Te is time from the start of the trial until the end of the trial
Time until trial ends, when a patient's survival time would be considered censored if they are still alive, is generated by Te-runif(n, 0, Ta)
}
  \item{proportion}{
Estimated proportion of patients in treatment 1 that will switch to treatment 2
}
  \item{s}{
Switching time (if switching time is fixed), when the patients in treatment 1
(control group) who will switch to treatment 2 will switch to treatment 2 (experimental group)
}
  \item{alpha}{
alpha level/type 1 error
}
  \item{r}{
inital ratio of patients in treatment 2 (experimental group) to treatment 1 (control group)
}
  \item{a,b}{
Switching time (if switching time isn't fixed).
Beta(a,b) is simulated the proportion of total censoring time before the disease progresses
}
  \item{random}{
Logic operator. Either TRUE or FALSE. FALSE means switching time is fixed. TRUE means switching time is generated (See Example below)
}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{
returns the power of the test
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
Lejun Deng
}
\note{
r*n must be a whole number,
reps recommended to be atleast 5000 to reduce variation
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
LogRankTestMix2PowerMedian(m1=1,m2=1.25,n=582,reps=5000,Ta=0,Te=999,proportion=0.6,s=1,alpha=0.05,r=1,random=FALSE)
[1] 0.714
## In the above example, since random is FALSE, no values of a or b is required

LogRankTestMix2PowerMedian(m1=1,m2=1.5,n=200,reps=5000,Ta=1,Te=3,proportion=1,s,alpha=0.05,r=1,a=3,b=2,random=T)
[1] 0.4876
## In the above example, since random is TRUE, no value for s is required
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory (show via RShowDoc("KEYWORDS")):
% \keyword{ ~kwd1 }
% \keyword{ ~kwd2 }
% Use only one keyword per line.
% For non-standard keywords, use \concept instead of \keyword:
% \concept{ ~cpt1 }
% \concept{ ~cpt2 }
% Use only one concept per line.
