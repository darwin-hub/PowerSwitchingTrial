\name{LogRankTestMedian}
\alias{LogRankTestMedian}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{LogRankTestMedian
%%  ~~function to do ... ~~
}
\description{
Find the number of patients required in treatment 1 (control group) for the test to reach a specified power (requires packages survival and survminer)
}
\usage{
LogRankTestMedian(m1,m2,min,max,reps,alpha,r,lower,upper,power)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{m1}{
Estimated median survival time of treatment 1 (control treatment)
}
  \item{m2}{
Estimated median survival time of treatment 2 (new treatment)
}
  \item{Ta,Te}{
Ta is time from the start of the trial until patients stop being recruited
Te is time from the start of the trial until the end of the trial
Time until trial ends, when a patient's survival time would be considered censored if they are still alive, is generated by Te-runif(n, 0, Ta)
}
  \item{reps}{
how many times the test is repeated
}
  \item{alpha}{
alpha level/type I error
}
  \item{r}{
ratio of patients in trial two to patients in trial one
}
  \item{lower}{
Lower bound of number of trial patients in treatment 1 tested in binary search
}
  \item{upper}{
upper bound of number of trial patients in treatment 1 tested in binary search
}
  \item{power}{
power that you wish to reach
}
}
\details{
This function uses a binary search method (starting lower and upper  number) to find the required number of trial patients in treatment 1 (control treatment) to reach the specified power
}
\value{
*Scrow down to Examples for more explanations on Values.

Returns N and K. N is the required number of trial patients in treatment 1. K is how many times binary search was preformed before finding N. An K value of 50 means the value of N was not able to be comepletey narrowed down
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
Lejun Deng
}
\note{
r*n must be a whole number, reps recommended to be atleast 5000 to reduce variation
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
LogRankTestMedian(m1=1,m2=1.5,Ta=0,Te=999,reps=5000,alpha=0.05,r=1,lower=50,upper=300,power=0.8)
 N  K
98 11
## In the above, the initial number of trial patients using treatment 1 that is required is 98. The function performed binary search K times

LogRankTestMedian(m1=1,m2=1.5,Ta=0,Te=999,reps=5000,alpha=0.05,r=1,lower=50,upper=70,power=0.8)
pwLower   0.5190
pwUpper   0.6556
lower    50.0000
upper    70.0000
## In the above, the range of the lower and upper numbers did not include the power value we specified (0.8) Looking at the results, we can see that they were both smaller than 0.8. If pwLower is greater than the specified power, decrease the lower argument. If pwUpper is smaller than the specified power, increase the upper argument.
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory (show via RShowDoc("KEYWORDS")):
% \keyword{ ~kwd1 }
% \keyword{ ~kwd2 }
% Use only one keyword per line.
% For non-standard keywords, use \concept instead of \keyword:
% \concept{ ~cpt1 }
% \concept{ ~cpt2 }
% Use only one concept per line.
