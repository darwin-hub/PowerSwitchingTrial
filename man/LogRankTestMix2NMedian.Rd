\name{LogRankTestMix2NMedian}
\alias{LogRankTestMix2NMedian}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{LogRankTestMix2NMedian
%%  ~~function to do ... ~~
}
\description{
Find the number of patients required in treatment 1 (control group) to reach a specified power if patients from treatment 1 switches to treatment 2 (experiment group). Requires packages survival and survminer
}
\usage{
LogRankTestMix2NMedian(m1,m2,reps,Ta,Te,proportion,s,alpha,r,a,b,random,upper,lower,power)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{m1}{
Estimated median survival time of treatment 1 (control group)
}
  \item{m2}{
Estimated median survival time of treatment 2 (experimental group)
}
  \item{reps}{
how many times the test is repeated
}
  \item{Ta,Te}{
Ta is time from the start of the trial until patients stop being recruited
Te is time from the start of the trial until the end of the trial
Time until trial ends, when a patient's survival time would be considered censored if they are still alive, is generated by Te-runif(n, 0, Ta)
}
  \item{proportion}{
Probability of patients in treatment 1 that will switch to treatment 2
}
  \item{s.dist}{
Switching time: one of the five options: “beta”, “gamma”, “unif”, “indepExp”, or a constant value 
}
  \item{alpha}{
alpha level/type 1 error
}
  \item{r}{
The allocation ratio of patients in treatment 2 (experimental group) to treatment 1 (control group)
}
  \item{censor.rate}{
Censor rate
}
  \item{pt}{
pt denotes the ratio of the average switching time to the average event time of the control group.
}
  \item{rho}{
Correlation between switching time and event time.
}
  \item{lower}{
Lower bound of number of trial patients in treatment 1 tested in binary search
}
  \item{upper}{
upper bound of number of trial patients in treatment 1 tested in binary search
}
  \item{power}{
power that you wish to reach
}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{
Returns the sample size and the number of expected events of both the experimental and control group
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
Lejun Deng and
Chih-Yuan Hsu
}
\note{
r*n must be a whole number, reps recommended to be atleast 5000 to reduce variation
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{

}
\examples{
LogRankTestMix2NMedian(power=0.8, lower=100, upper=300, m1=1, m2=1.5, r=1, Ta=0, Te=4, proportion=0.3, alpha=0.05, s.dist="beta", pt=0.3, rho=0.5,
                       censor.rate=c("AC.only"),
                       reps=5000)
                       
      N1       N2       E1       E2        K 
185.0000 185.0000 169.7930 155.9274   6.0000                        
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory (show via RShowDoc("KEYWORDS")):
% \keyword{ ~kwd1 }
% \keyword{ ~kwd2 }
% Use only one keyword per line.
% For non-standard keywords, use \concept instead of \keyword:
% \concept{ ~cpt1 }
% \concept{ ~cpt2 }
% Use only one concept per line.
